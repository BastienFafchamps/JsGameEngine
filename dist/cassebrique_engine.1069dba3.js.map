{"version":3,"sources":["src/engine/html/inputManager.js","src/engine/html/renderer.js","src/engine/engine.js","src/game/cassebrique_engine.js"],"names":["HtmlInputManager","document","keys","addEventListener","event","__keyDownHandler","__keyUpHandler","__keyPressedHandler","key","inputManager","HtmlRenderer","canvas","ctx","getContext","width","height","style","imageRendering","clearRect","x","y","color","beginPath","rect","fillStyle","fill","closePath","image","drawImage","radius","arc","Math","PI","Engine","renderer","audioPlayer","update","draw","interval","setInterval","clear","clearInterval","drawPixel","drawRect","drawEclipse","getElementById","backgroundColor","engine","ball","dx","dy","paddle","speed","brickWidth","brickHeight","brickSpacing","bricks","bricks_x_start","bricks_y_start","i","j","push","life","colors","isBallOnPaddle","stop","isKeyDown","filter","brick","forEach","start"],"mappings":";;AGAA;;AACA;;AACA;;;;AAEA,IAAMW,MAAM,GAAGV,QAAQ,CAAC4C,cAAT,CAAwB,aAAxB,CAAf;AACAlC,MAAM,CAACK,KAAP,CAAa8B,eAAb,GAA+B,qBAA/B;AAEA,IAAMZ,QAAQ,GAAG,IAAIxB,iBAAJ,CAAiBC,MAAjB,CAAjB;AACA,IDPqBsB,AFAAjC,ACAAU,AEOfqC,MAAM,GAAG,IAAId,eAAJ,CAAWC,QAAX,EAAqB,IAArB,CAAf;ADLI,AFAA,ACAA,AEMJ,IAAMzB,YAAY,EDNFyB,CCMK,IAAIlC,CFNTW,ECAZ,EAAsBwB,AFAVlC,ECAZ,EAAoB,IDApB,EAAsB,CEAtB,EAAmC,GCMlB,CAAqBA,QAArB,CAArB;ADNuC,AFAb,ACAF,AEQxB,IAAI+C,IAAI,GAAG;AACPnB,EAAAA,MAAM,EAAE,EADD;ADPH,AFDkB,ACClB,AESJV,EAAAA,CAAC,EAAE,EAFI,EDPEe,ADAAvB,MAAL,ECAA,CDAcA,ECAEuB,IDAhB,ICAA;AACA,ADAA,AESJd,EAAAA,CAAC,EAAE,EAHI,EDNEe,ADAAvB,GAAL,GAAWD,KCAX,CDAiB,CAACE,CCACsB,SDAR,CAAkB,CCA7B,GDAW,CAAX;ACCH,AFFG,ACGA,AEQJc,EAAAA,EAAE,EAAE,CAAC,CAJE,CHPE/C,ACGAY,IDHL,CCGA,EDHY,CCGC,CDHb,ICGkBH,MAAL,CAAYG,KAAzB;ADDAb,ACEA,AEQJiD,EAAAA,EHVIjD,AGUF,EAAE,CAAC,EFRIc,GDFG,CAACZ,ECET,GAAc,KAAKQ,MDFnB,ACEc,CDFY,ACEAI,MAA1B,CALgB,CAMhB,CDHA,EAAqC,UAAAX,KAAK;AAAA,ACI1C,AECG,CAAX,YHLsD,KAAI,CAACC,gBAAL,CAAsB,KAAtB,EAA4BD,KAA5B,CAAJ;AAAA,ACK7C,AEQL,IAAI+C,CHbI,EAAkF,GGahF,EHbF,CGaK;AHZLlD,AGaJc,EAAAA,EHbId,IGaE,EAAE,CDZR,CFDY,AGYH,CHZIE,aECPiC,GFDF,CAA0B,EEC9B,EAAcC,GFDV,CECJ,CFDuC,CECnB,SFDmBjC,KAAK;AECxB,AFDwB,AGc5CU,EAAAA,KAAK,EAAE,GAFE,CHZuC,KAAI,CAACR,cAAL,CAAoB,KAApB,EAA0BF,KAA1B,CAAJ;AAAA,AGe5Ce,EAAAA,CAAC,EHfG,AGeD,EHf+E,AGYzE,KHZL;AEEA,AFDAlB,AGeJmD,EAAAA,EHfInD,GGeC,EAAE,EDdEqC,ADIT,CDLY,CAACnC,MECT,GAAgBoC,OFDhB,CAA0B,GECC,CAAC,ADIlBzB,KAAd,CDLI,CCKiBC,CDLqB,IECJ,CDItC,EAA6B,GDLaX,KAAK;AEEvCgC,AFFuC,ACM3C,AEKK,CAAb,ODTYA,GDICzB,EDN0C,CEErC,GDIV,CDNmD,ACMvCK,CDNwCT,ICMpD,CAAkBO,KAAlB,GAA0BA,KAAK,CDNgB,CAAyB,CCMtC,IDNa,ACM/C,EDN8EV,KAA/B,CAAJ;AAAA,ACO3C,AEWR,IAAIiD,CHlBI,EAAsF,ICOjF1C,CDPL,EGkBM,GFXN,AEWS,CFXGK,CEWpB,IFXQ,CAAkBD,MAAlB,GAA2BA,MAAM,GAAG,IAApC;ACJI,AFFP,ACOA,AEWL,IAAIuC,IDhBQ,KAAI,CAACpB,CCgBF,GAAG,EAAlB,EDhBY,CAAcM,KAAd;ACiBZ,IAAIe,YAAY,GAAG,EAAnB;ADhBYlB,ACiBZ,IAAImB,IDjBQnB,ECiBF,EDjBM,CCiBH,EAAb;ADhBS,ACkBT,IAAIoB,GDtB+B,EAIxB,EAJwB,ADS/B,CCTI,MCsBU,GAAG,EAArB,aFboB;ACJf,ADKG,AEaR,IAAIC,OHrBA,ACQS/C,MAAL,CAAYK,AEaF,GAAG,EFbb,AEaR,CFb0BC,MDRZT,GAAV,EAAe,GCQX,GAAmC,kBAAnC;ADPA,ACQA,WAAKG,EDREH,GAAG,CCQV,CAAYQ,EDRE,GCQd,CAAkBC,CDRCf,IAAZ,IAAoB,KAAKA,ACQhC,GAAmC,CDRR,CAAUM,GAAV,KAAkB,CAA7C,UCQA;ADPH,ACQG,AEaR,KAAK,IAAImD,CAAC,CFbGhD,EEaA,CAAb,EAAgBgD,CFbR,AEaS,CFbG3C,EEaA,EAApB,CFbQ,CAAkBC,AEaF0C,CAAC,EAAzB,EAA6B,SFbrB,GAAmC,WAAnC;AACA,AEaJ,OAAK,IDnBL,ADMShD,AEaAiD,CAAC,GAAG,CAAb,CFbI,CAAY5C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","file":"cassebrique_engine.1069dba3.js","sourceRoot":"..","sourcesContent":["\r\nexport default class HtmlInputManager {\r\n\r\n    constructor(document) {\r\n        this.keys = {};\r\n        \r\n        document.addEventListener(\"keydown\", event => this.__keyDownHandler(this, event), false);\r\n        document.addEventListener(\"keyup\", event => this.__keyUpHandler(this, event), false);\r\n        document.addEventListener(\"keypress\", event => this.__keyPressedHandler(this, event), false);\r\n    }\r\n\r\n    isKeyDown(key) {\r\n        return key in this.keys && this.keys[key] == 1;\r\n    }\r\n\r\n    isKeyPressed(key) {\r\n        return key in this.keys && this.keys[key] == 2;\r\n    }\r\n\r\n    isKeyUp() {\r\n        return !(key in this.keys);\r\n    }\r\n\r\n\r\n    __keyDownHandler(inputManager, event) {\r\n        inputManager.keys[event.key] = 1;\r\n    }\r\n    \r\n    __keyPressedHandler(inputManager, event) {\r\n        inputManager.keys[event.key] = 2;\r\n    }\r\n    \r\n    __keyUpHandler(inputManager, event) {\r\n        if (event.key in inputManager.keys)\r\n            delete inputManager.keys[event.key];\r\n    }\r\n}","\r\nexport default class HtmlRenderer {\r\n\r\n    constructor(canvas) {\r\n        this.canvas = canvas;\r\n        this.ctx = canvas.getContext(\"2d\");\r\n\r\n        this.width = this.canvas.width;\r\n        this.height = this.canvas.height;\r\n        // this.canvas = document.createElement('canvas');\r\n        // this.ctx = new CanvasRenderingContext2D();\r\n    }\r\n\r\n    upscaleCanvas(width, height) {\r\n        this.canvas.style.width = width + 'px';\r\n        this.canvas.style.height = height + 'px';\r\n    }\r\n\r\n    setCripsPixel() {\r\n        this.canvas.style.imageRendering = '-moz-crisp-edges';\r\n        this.canvas.style.imageRendering = '-webkit-crisp-edges';\r\n        this.canvas.style.imageRendering = 'pixelated';\r\n        this.canvas.style.imageRendering = 'crisp-edges';\r\n    }\r\n\r\n    clear() {\r\n        this.ctx.clearRect(0, 0, this.width, this.height);\r\n    }\r\n\r\n    drawPixel(x, y, color) {\r\n        this.ctx.beginPath();\r\n        this.ctx.rect(x, y, 1, 1);\r\n        this.ctx.fillStyle = color;\r\n        this.ctx.fill();\r\n        this.ctx.closePath();\r\n    }\r\n\r\n    drawImage(x, y, image) {\r\n        this.ctx.drawImage(image, x, y);\r\n    }\r\n\r\n    drawRect(x, y, width, height, color) {\r\n        this.ctx.beginPath();\r\n        this.ctx.rect(x, y, width, height);\r\n        this.ctx.fillStyle = color;\r\n        this.ctx.fill();\r\n        this.ctx.closePath();\r\n    }\r\n\r\n    drawEclipse(x, y, radius, color) {\r\n        this.ctx.beginPath();\r\n        this.ctx.arc(x, y, radius, 0, Math.PI * 2);\r\n        this.ctx.fillStyle = color;\r\n        this.ctx.fill();\r\n        this.ctx.closePath();\r\n    }\r\n}","\r\nexport default class Engine {\r\n\r\n    constructor(renderer, audioPlayer) {\r\n        this.renderer = renderer;\r\n        this.audioPlayer = audioPlayer;\r\n    }\r\n\r\n    start(update, draw) {\r\n        this.interval = setInterval(() => {\r\n            update();\r\n            this.renderer.clear();\r\n            draw();\r\n        }, 10);\r\n    }\r\n\r\n    stop() {\r\n        clearInterval(this.interval); // Needed for Chrome to end game\r\n    }\r\n\r\n    drawPixel(x, y, color) {\r\n        this.renderer.drawPixel(x, y, color);\r\n    }\r\n\r\n    drawImage(x, y, image) {\r\n        this.renderer.drawImage(image, x, y);\r\n    }\r\n\r\n    drawRect(x, y, width, height, color) {\r\n        this.renderer.drawRect(x, y, width, height, color);\r\n    }\r\n\r\n    drawEclipse(x, y, radius, color) {\r\n        this.renderer.drawEclipse(x, y, radius, color);\r\n    }\r\n}","import HtmlInputManager from \"../engine/html/inputManager\";\r\nimport HtmlRenderer from \"../engine/html/renderer\";\r\nimport Engine from \"../engine/engine\";\r\n\r\nconst canvas = document.getElementById(\"main-canvas\");\r\ncanvas.style.backgroundColor = 'rgba(255, 255, 255)';\r\n\r\nconst renderer = new HtmlRenderer(canvas);\r\nconst engine = new Engine(renderer, null);\r\nconst inputManager = new HtmlInputManager(document);\r\n\r\nlet ball = {\r\n    radius: 10,\r\n    x: 20,\r\n    y: 60,\r\n    dx: -2,\r\n    dy: -2,\r\n}\r\n\r\nlet paddle = {\r\n    height: 20,\r\n    width: 100,\r\n    x: 10,\r\n    speed: 3,\r\n}\r\n\r\nlet brickWidth = 50;\r\nlet brickHeight = 20;\r\nlet brickSpacing = 10;\r\nlet bricks = [];\r\n\r\nlet bricks_x_start = 50;\r\nlet bricks_y_start = 50;\r\n\r\nfor (let i = 0; i < 10; i++) {\r\n    for (let j = 0; j < 10; j++) {\r\n        bricks.push({\r\n            x: ((brickWidth + brickSpacing) * i) + bricks_x_start, \r\n            y: ((brickHeight + brickSpacing) * j) + bricks_y_start, \r\n            life: 3\r\n        });\r\n    }\r\n}\r\n\r\nlet colors = [\r\n    \"#ade4ff\",\r\n    \"#48bef7\",\r\n    \"#0095DD\",\r\n]\r\n\r\nfunction update() {\r\n    ball.x += ball.dx;\r\n    ball.y += ball.dy;\r\n\r\n    function isBallOnPaddle() {\r\n        return ball.y + ball.radius > canvas.height - paddle.height - 5 && ball.x > paddle.x && ball.x < paddle.x + paddle.width;\r\n    }\r\n\r\n    if (ball.y < ball.radius || isBallOnPaddle())\r\n        ball.dy = -ball.dy;\r\n    else if(ball.y > canvas.height + ball.radius) {\r\n        // alert(\"GAME OVER\");\r\n        // document.location.reload();\r\n        engine.stop();\r\n    }\r\n\r\n    if (ball.x < ball.radius || ball.x + ball.radius > canvas.width)\r\n        ball.dx = -ball.dx;\r\n\r\n    if ((inputManager.isKeyDown('Right') || inputManager.isKeyDown('ArrowRight')) && paddle.x < canvas.width - paddle.width)\r\n        paddle.x += paddle.speed;\r\n\r\n    if ((inputManager.isKeyDown('Left') || inputManager.isKeyDown('ArrowLeft')) && paddle.x > 0)\r\n        paddle.x -= paddle.speed;\r\n\r\n    bricks = bricks.filter(brick => {\r\n        if (ball.y > brick.y && ball.y < brick.y + brickHeight && ball.x > brick.x && ball.x < brick.x + brickWidth) {\r\n            ball.dy = -ball.dy;\r\n            brick.life -= 1;\r\n            return brick.life > 0;\r\n        }\r\n        return true;\r\n    });\r\n}\r\n\r\nfunction draw() {\r\n    bricks.forEach(brick => {\r\n        engine.drawRect(\r\n            brick.x, \r\n            brick.y, \r\n            brickWidth, \r\n            brickHeight, \r\n            colors[brick.life - 1]\r\n        );\r\n    });\r\n\r\n    engine.drawEclipse(ball.x, ball.y, ball.radius, \"#0095DD\");\r\n    engine.drawRect(paddle.x, canvas.height - paddle.height - 5, paddle.width, paddle.height, \"#0095DD\");\r\n}\r\n\r\nengine.start(update, draw);"]}