{"version":3,"sources":["src/game/cassebrique.js"],"names":["canvas","document","getElementById","ctx","getContext","ball","radius","x","width","y","height","dx","dy","paddle","speed","rightPressed","leftPressed","brickWidth","brickHeight","brickPadding","bricks","bricks_x_start","bricks_y_start","i","j","push","life","colors","draw","clearRect","forEach","brick","drawBrick","beginPath","arc","Math","PI","fillStyle","fill","closePath","rect","isBallOnPaddle","alert","location","reload","clearInterval","interval","filter","padding","color","keyDownHandler","e","key","keyUpHandler","addEventListener","setInterval"],"mappings":"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","file":"cassebrique.f7c406f0.js","sourceRoot":"..","sourcesContent":["const canvas = document.getElementById(\"main-canvas\");\r\nconst ctx = canvas.getContext(\"2d\");\r\n\r\nlet ball = {\r\n    radius: 10,\r\n    x: canvas.width/2,\r\n    y: canvas.height-30,\r\n    dx: -1.5,\r\n    dy: -1.5,\r\n}\r\n\r\nlet paddle = {\r\n    height: 20,\r\n    width: 100,\r\n    x: 10,\r\n    speed: 4,\r\n}\r\n\r\nlet rightPressed = false;\r\nlet leftPressed = false;\r\n\r\nlet brickWidth = 50;\r\nlet brickHeight = 30;\r\nlet brickPadding = 5;\r\nlet bricks = [];\r\n\r\nlet bricks_x_start = 3.25;\r\nlet bricks_y_start = 2;\r\n\r\nfor (let i = 0 + bricks_x_start; i < 10 + bricks_x_start; i++) {\r\n    for (let j = 0 + bricks_y_start; j < 10 + bricks_y_start; j++) {\r\n        bricks.push({x: brickWidth * i, y: brickHeight * j, life: 3});\r\n    }\r\n}\r\n\r\nlet colors = [\r\n    \"#ade4ff\",\r\n    \"#48bef7\",\r\n    \"#0095DD\",\r\n]\r\n\r\nfunction draw() {\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n    bricks.forEach(brick => {\r\n        drawBrick(brick.x, brick.y, brickWidth, brickHeight, brickPadding, colors[brick.life - 1]);\r\n    });\r\n\r\n    ctx.beginPath();\r\n    ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);\r\n    ctx.fillStyle = \"#0095DD\";\r\n    ctx.fill();\r\n    ctx.closePath();\r\n\r\n    ctx.beginPath();\r\n    ctx.rect(paddle.x, canvas.height - paddle.height - 5, paddle.width, paddle.height);\r\n    ctx.fillStyle = \"#0095DD\";\r\n    ctx.fill();\r\n    ctx.closePath();\r\n\r\n    ball.x += ball.dx;\r\n    ball.y += ball.dy;\r\n\r\n    if (ball.y < ball.radius || isBallOnPaddle())\r\n        ball.dy = -ball.dy;\r\n    else if(ball.y > canvas.height + ball.radius) {\r\n        alert(\"GAME OVER\");\r\n        document.location.reload();\r\n        clearInterval(interval); // Needed for Chrome to end game\r\n    }\r\n\r\n    // if (ball.y + ball.dy < ball.radius || ball.y + ball.dy + ball.radius > canvas.height)\r\n    //     ball.dy = -ball.dy;\r\n    if (ball.x < ball.radius || ball.x + ball.radius > canvas.width)\r\n        ball.dx = -ball.dx;\r\n\r\n    if (rightPressed && paddle.x < canvas.width - paddle.width)\r\n        paddle.x += paddle.speed;\r\n\r\n    if (leftPressed && paddle.x > 0)\r\n        paddle.x -= paddle.speed;\r\n\r\n    bricks = bricks.filter(brick => {\r\n        if (ball.y > brick.y && ball.y < brick.y + brickHeight && ball.x > brick.x && ball.x < brick.x + brickWidth) {\r\n            ball.dy = -ball.dy;\r\n            brick.life -= 1;\r\n            return brick.life > 0;\r\n        }\r\n        return true;\r\n    });\r\n}\r\n\r\nfunction drawBrick(x, y, width, height, padding, color) {\r\n    ctx.beginPath();\r\n    ctx.rect(x + padding, y + padding, width - (2 * padding), height - (2 * padding));\r\n    ctx.fillStyle = color;\r\n    ctx.fill();\r\n    ctx.closePath();\r\n}\r\n\r\nfunction isBallOnPaddle() {\r\n    return ball.y + ball.radius > canvas.height - paddle.height - 5 && ball.x > paddle.x && ball.x < paddle.x + paddle.width;\r\n}\r\n\r\nfunction keyDownHandler(e) {\r\n    if(e.key == \"Right\" || e.key == \"ArrowRight\") {\r\n        rightPressed = true;\r\n    }\r\n    else if(e.key == \"Left\" || e.key == \"ArrowLeft\") {\r\n        leftPressed = true;\r\n    }\r\n}\r\n\r\nfunction keyUpHandler(e) {\r\n    if(e.key == \"Right\" || e.key == \"ArrowRight\") {\r\n        rightPressed = false;\r\n    }\r\n    else if(e.key == \"Left\" || e.key == \"ArrowLeft\") {\r\n        leftPressed = false;\r\n    }\r\n}\r\n\r\ndocument.addEventListener(\"keydown\", keyDownHandler, false);\r\ndocument.addEventListener(\"keyup\", keyUpHandler, false);\r\n\r\nvar interval = setInterval(draw, 10);"]}